/*
  n,m,p<=1e18   防止溢出
*/
#include<vector>
#include<queue>
#include<set>
#include <stdio.h>
#include <stdlib.h>
#include<algorithm>
#include<iostream>
#include<string>
#include<cmath>
#include<stack>
#include<string.h>
#define mem(a) memset(a,0,sizeof(a))
using namespace std;
typedef long long ll;
ll n,m,p;
ll multi(ll a,ll b,ll m)
{
    ll ans=0;
    while(b)
    {
        if(b&1) (ans+=a) %= m;
        (a=a*2) %= m;
        b/=2;
    }
    return ans;
}
ll pow_mod(ll a,ll b,ll m)
{
    ll res=1;
    while(b)
    {
        if(b&1) res=multi(res,a,m);  //这里要用到快速乘
        a=multi(a,a,m);
        b/=2;
    }
    return res;
}
int main()
{
    int i,j,t;
    cin>>t;
    while(t--)
    {
        cin>>n>>m>>p;
        cout<<pow_mod(n,m,p)<<endl;
    }

    return 0;
}
